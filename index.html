<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Freelancer - Start Bootstrap Theme</title>
        <!-- Favicon-->
        <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css" />
        <link href="https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet" type="text/css" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="css/styles.css" rel="stylesheet" />
    </head>
    <body id="page-top">
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg bg-secondary text-uppercase fixed-top" id="mainNav">
            <div class="container">
                <a class="navbar-brand" href="#page-top">ECE 5160 Fast Robots Spring 2025</a>
                <button class="navbar-toggler text-uppercase font-weight-bold bg-primary text-white rounded" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                    Menu
                    <i class="fas fa-bars"></i>
                </button>
                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" href="#portfolio">Lab</a></li>
                        <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" href="#about">About Me</a></li>
                        <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" href="#contact">Contact</a></li>
                    </ul>
                </div>
            </div>
        </nav>
        <!-- Masthead-->
        <header class="masthead bg-primary text-white text-center">
            <div class="container d-flex align-items-center flex-column">
                <!-- Masthead Avatar Image-->
                <img class="masthead-avatar mb-5" src="assets/img/portfolio/selfpic.jpg" alt="..." />
                <!-- Masthead Heading-->
                <h1 class="masthead-myname text-uppercase mb-0">Peng-Ru Lung</h1>
                <!-- Icon Divider-->
                <div class="divider-custom divider-light">
                    <div class="divider-custom-line"></div>
                    <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                    <div class="divider-custom-line"></div>
                </div>
                <!-- Masthead Subheading-->
                <p class="masthead-subheading font-weight-light mb-0">pl649@cornell.edu</p>
            </div>
        </header>
        <!-- Portfolio Section-->
        <section class="page-section portfolio" id="portfolio">
            <div class="container">
                <!-- Portfolio Section Heading-->
                <h2 class="page-section-heading text-center text-uppercase text-secondary mb-0">Lab</h2>
                <!-- Icon Divider-->
                <div class="divider-custom">
                    <div class="divider-custom-line"></div>
                    <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                    <div class="divider-custom-line"></div>
                </div>
                <!-- Portfolio Grid Items-->
                <div class="row justify-content-center">
                    <!-- Portfolio Item 1-->
                    <div class="col-md-6 col-lg-4 mb-5">
                        <div class="portfolio-item mx-auto" data-bs-toggle="modal" data-bs-target="#portfolioModal1">
                            <div class="portfolio-item-caption d-flex align-items-center justify-content-center h-100 w-100">
                                <div class="portfolio-item-caption-content text-center text-white"><i class="fas fa-plus fa-3x"></i></div>
                            </div>
                            <img class="img-fluid" src="assets/img/portfolio/board.jpg" alt="..." />
                        </div>
                        <p class="text-center mt-2 fs-4 fw-bold">Lab1</p> 
                    </div>
                    <!-- Portfolio Item 2-->
                    <div class="col-md-6 col-lg-4 mb-5">
                        <div class="portfolio-item mx-auto" data-bs-toggle="modal" data-bs-target="#portfolioModal2">
                            <div class="portfolio-item-caption d-flex align-items-center justify-content-center h-100 w-100">
                                <div class="portfolio-item-caption-content text-center text-white"><i class="fas fa-plus fa-3x"></i></div>
                            </div>
                            <img class="img-fluid" src="assets/img/portfolio/IMU.png" alt="..." />
                        </div>
                        <p class="text-center mt-2 fs-4 fw-bold">Lab2</p> 
                    </div>
                    <!-- Portfolio Item 3-->
                    <div class="col-md-6 col-lg-4 mb-5">
                        <div class="portfolio-item mx-auto" data-bs-toggle="modal" data-bs-target="#portfolioModal3">
                            <div class="portfolio-item-caption d-flex align-items-center justify-content-center h-100 w-100">
                                <div class="portfolio-item-caption-content text-center text-white"><i class="fas fa-plus fa-3x"></i></div>
                            </div>
                            <img class="img-fluid" src="assets/img/portfolio/Tof.png" alt="..." />
                        </div>
                        <p class="text-center mt-2 fs-4 fw-bold">Lab3</p> 
                    </div>
                    <!-- Portfolio Item 4-->
                    <div class="col-md-6 col-lg-4 mb-5 mb-lg-0">
                        <div class="portfolio-item mx-auto" data-bs-toggle="modal" data-bs-target="#portfolioModal4">
                            <div class="portfolio-item-caption d-flex align-items-center justify-content-center h-100 w-100">
                                <div class="portfolio-item-caption-content text-center text-white"><i class="fas fa-plus fa-3x"></i></div>
                            </div>
                            <img class="img-fluid" src="assets/img/portfolio/car2.jpg" alt="..." />
                        </div>
                        <p class="text-center mt-2 fs-4 fw-bold">Lab4</p> 
                    </div>
                    <!-- Portfolio Item 5-->
                    <div class="col-md-6 col-lg-4 mb-5 mb-md-0">
                        <div class="portfolio-item mx-auto" data-bs-toggle="modal" data-bs-target="#portfolioModal5">
                            <div class="portfolio-item-caption d-flex align-items-center justify-content-center h-100 w-100">
                                <div class="portfolio-item-caption-content text-center text-white"><i class="fas fa-plus fa-3x"></i></div>
                            </div>
                            <img class="img-fluid" src="assets/img/portfolio/PID_p.png" alt="..." />
                        </div>
                        <p class="text-center mt-2 fs-4 fw-bold">Lab5</p> 
                    </div>
                    <!-- Portfolio Item 6-->
                    <div class="col-md-6 col-lg-4">
                        <div class="portfolio-item mx-auto" data-bs-toggle="modal" data-bs-target="#portfolioModal6">
                            <div class="portfolio-item-caption d-flex align-items-center justify-content-center h-100 w-100">
                                <div class="portfolio-item-caption-content text-center text-white"><i class="fas fa-plus fa-3x"></i></div>
                            </div>
                            <img class="img-fluid" src="assets/img/portfolio/PID_p.png" alt="..." />
                        </div>
                        <p class="text-center mt-2 fs-4 fw-bold">Lab6</p> 
                    </div>
                    <!-- Portfolio Item 7-->
                    <div class="col-md-6 col-lg-4 mb-5 mb-lg-0">
                        <div class="portfolio-item mx-auto" data-bs-toggle="modal" data-bs-target="#portfolioModal7">
                            <div class="portfolio-item-caption d-flex align-items-center justify-content-center h-100 w-100">
                                <div class="portfolio-item-caption-content text-center text-white"><i class="fas fa-plus fa-3x"></i></div>
                            </div>
                            <img class="img-fluid" src="assets/img/portfolio/cabin.png" alt="..." />
                        </div>
                        <p class="text-center mt-2 fs-4 fw-bold">Lab7</p> 
                    </div>
                    <!-- Portfolio Item 8-->
                    <div class="col-md-6 col-lg-4 mb-5 mb-md-0">
                        <div class="portfolio-item mx-auto" data-bs-toggle="modal" data-bs-target="#portfolioModal8">
                            <div class="portfolio-item-caption d-flex align-items-center justify-content-center h-100 w-100">
                                <div class="portfolio-item-caption-content text-center text-white"><i class="fas fa-plus fa-3x"></i></div>
                            </div>
                            <img class="img-fluid" src="assets/img/portfolio/safe.png" alt="..." />
                        </div>
                        <p class="text-center mt-2 fs-4 fw-bold">Lab8</p> 
                    </div>
                    <!-- Portfolio Item 9-->
                    <div class="col-md-6 col-lg-4">
                        <div class="portfolio-item mx-auto" data-bs-toggle="modal" data-bs-target="#portfolioModal9">
                            <div class="portfolio-item-caption d-flex align-items-center justify-content-center h-100 w-100">
                                <div class="portfolio-item-caption-content text-center text-white"><i class="fas fa-plus fa-3x"></i></div>
                            </div>
                            <img class="img-fluid" src="assets/img/portfolio/submarine.png" alt="..." />
                        </div>
                        <p class="text-center mt-2 fs-4 fw-bold">Lab9</p> 
                    </div>
                </div>
            </div>
        </section>
        <!-- About Section-->
        <section class="page-section bg-primary text-white mb-0" id="about">
            <div class="container">
                <!-- About Section Heading-->
                <h2 class="page-section-heading text-center text-uppercase text-white">About Me</h2>
                <!-- Icon Divider-->
                <div class="divider-custom divider-light">
                    <div class="divider-custom-line"></div>
                    <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                    <div class="divider-custom-line"></div>
                </div>
                <!-- About Section Content-->
                <div class="row">
                    <div><p class="lead">Hello! My name is Peng-Ru. I am an M.Eng. student in Electrical and Computer Engineering at Cornell University. I have a strong passion for hands-on experiments and have documented my Fast Robots Lab experience on this website. Hope you enjoy!</p></div>
                </div>
                <!-- About Section Button-->
                <div class="text-center mt-4">
                    <a class="btn btn-xl btn-outline-light" href="https://startbootstrap.com/theme/freelancer/">
                        <i class="fas fa-download me-2"></i>
                        Download Webpage Template!
                    </a>
                </div>
            </div>
        </section>
        <!-- Contact Section-->
        <section class="page-section" id="contact">
            <div class="container">
                <!-- Contact Section Heading-->
                <h2 class="page-section-heading text-center text-uppercase text-secondary mb-0">Contact Me</h2>
                <!-- Icon Divider-->
                <div class="divider-custom">
                    <div class="divider-custom-line"></div>
                    <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                    <div class="divider-custom-line"></div>
                </div>
                <!-- Contact Section Form-->
                <div class="row justify-content-center">
                    <div class="col-lg-8 col-xl-7">
                        <!-- * * * * * * * * * * * * * * *-->
                        <!-- * * SB Forms Contact Form * *-->
                        <!-- * * * * * * * * * * * * * * *-->
                        <!-- This form is pre-integrated with SB Forms.-->
                        <!-- To make this form functional, sign up at-->
                        <!-- https://startbootstrap.com/solution/contact-forms-->
                        <!-- to get an API token!-->
                        <form id="contactForm" data-sb-form-api-token="API_TOKEN">
                            <!-- Name input-->
                            <div class="form-floating mb-3">
                                <input class="form-control" id="name" type="text" placeholder="Enter your name..." data-sb-validations="required" />
                                <label for="name">Full name</label>
                                <div class="invalid-feedback" data-sb-feedback="name:required">A name is required.</div>
                            </div>
                            <!-- Email address input-->
                            <div class="form-floating mb-3">
                                <input class="form-control" id="email" type="email" placeholder="name@example.com" data-sb-validations="required,email" />
                                <label for="email">Email address</label>
                                <div class="invalid-feedback" data-sb-feedback="email:required">An email is required.</div>
                                <div class="invalid-feedback" data-sb-feedback="email:email">Email is not valid.</div>
                            </div>
                            <!-- Phone number input-->
                            <div class="form-floating mb-3">
                                <input class="form-control" id="phone" type="tel" placeholder="(123) 456-7890" data-sb-validations="required" />
                                <label for="phone">Phone number</label>
                                <div class="invalid-feedback" data-sb-feedback="phone:required">A phone number is required.</div>
                            </div>
                            <!-- Message input-->
                            <div class="form-floating mb-3">
                                <textarea class="form-control" id="message" type="text" placeholder="Enter your message here..." style="height: 10rem" data-sb-validations="required"></textarea>
                                <label for="message">Message</label>
                                <div class="invalid-feedback" data-sb-feedback="message:required">A message is required.</div>
                            </div>
                            <!-- Submit success message-->
                            <!---->
                            <!-- This is what your users will see when the form-->
                            <!-- has successfully submitted-->
                            <div class="d-none" id="submitSuccessMessage">
                                <div class="text-center mb-3">
                                    <div class="fw-bolder">Form submission successful!</div>
                                    To activate this form, sign up at
                                    <br />
                                    <a href="https://startbootstrap.com/solution/contact-forms">https://startbootstrap.com/solution/contact-forms</a>
                                </div>
                            </div>
                            <!-- Submit error message-->
                            <!---->
                            <!-- This is what your users will see when there is-->
                            <!-- an error submitting the form-->
                            <div class="d-none" id="submitErrorMessage"><div class="text-center text-danger mb-3">Error sending message!</div></div>
                            <!-- Submit Button-->
                            <button class="btn btn-primary btn-xl disabled" id="submitButton" type="submit">Send</button>
                        </form>
                    </div>
                </div>
            </div>
        </section>
        <!-- Footer-->
        <footer class="footer text-center">
            <div class="container">
                <div class="row">
                    <!-- Footer Location-->
                    <div class="col-lg-4 mb-5 mb-lg-0">
                        <h4 class="text-uppercase mb-4">Location</h4>
                        <p class="lead mb-0">
                            Cornell University
                        </p>
                    </div>
                    <!-- Footer Social Icons-->
                    <div class="col-lg-4 mb-5 mb-lg-0">
                        <h4 class="text-uppercase mb-4">Around the Web</h4>
                        <a class="btn btn-outline-light btn-social mx-1" href="#!"><i class="fab fa-fw fa-facebook-f"></i></a>
                        <a class="btn btn-outline-light btn-social mx-1" href="#!"><i class="fab fa-fw fa-twitter"></i></a>
                        <a class="btn btn-outline-light btn-social mx-1" href="#!"><i class="fab fa-fw fa-linkedin-in"></i></a>
                        <a class="btn btn-outline-light btn-social mx-1" href="#!"><i class="fab fa-fw fa-dribbble"></i></a>
                    </div>
                    <!-- Footer About Text-->
                    <div class="col-lg-4">
                        <h4 class="text-uppercase mb-4">About Freelancer</h4>
                        <p class="lead mb-0">
                            Freelance is a free to use, MIT licensed Bootstrap theme created by
                            <a href="http://startbootstrap.com">Start Bootstrap</a>
                            .
                        </p>
                    </div>
                </div>
            </div>
        </footer>
        <!-- Copyright Section-->
        <div class="copyright py-4 text-center text-white">
            <div class="container"><small>Copyright &copy; Your Website 2023</small></div>
        </div>
        <!-- Portfolio Modals-->
        <!-- Portfolio Modal 1-->
        <div class="portfolio-modal modal fade" id="portfolioModal1" tabindex="-1" aria-labelledby="portfolioModal1" aria-hidden="true">
            <div class="modal-dialog modal-xl">
                <div class="modal-content">
                    <div class="modal-header border-0"><button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close"></button></div>
                    <div class="modal-body text-center pb-5">
                        <div class="container">
                            <div class="row justify-content-center">
                                <div class="col-lg-8">
                                    <!-- Portfolio Modal - Title-->
                                    <h2 class="portfolio-modal-title text-secondary text-uppercase mb-2">Lab 1</h2>
                                    <h2 class="portfolio-title text-secondary mb-0">The Artemis board and Bluetooth</h2>
                                    <!-- Icon Divider-->
                                    <div class="divider-custom">
                                        <div class="divider-custom-line"></div>
                                        <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                                        <div class="divider-custom-line"></div>
                                    </div>
                                    <!-- Portfolio Modal - Image-->
                                    <img class="img-fluid rounded mb-5" src="assets/img/portfolio/board.jpg" alt="..." />
                                    <!-- Portfolio Modal - Text-->
                                    <h2 class="portfolio-title text-secondary mb-3">Objective</h2>
                                    <p class="mb-0 text-start">Lab 1 is divided into two parts:</p>
                                    <p class="mb-0 text-start" >Part A focuses on familiarizing with the SparkFun RedBoard Artemis Nano, programming the board, using the onboard LED, reading/writing serial messages over USB, and utilizing the temperature sensor and Pulse Density Microphone.</p>
                                    <p class="mb-0 text-start mb-3">Part B involves establishing Bluetooth communication between the computer and the Artemis board. Python commands will be sent from a Jupyter notebook to the Artemis, and data can be sent from the Artemis to the computer via Bluetooth for future labs.</p> 
                                    <h2 class="portfolio-title text-secondary mb-3">Part 1 The Artemis board</h2>
                                    <h2 class="portfolio-title text-secondary mb-3"style="font-size: 2rem;">Prelab</h2>                                    
                                    <p class="mb-4 text-start">We first installed Arduino IDE from <a href="https://www.arduino.cc/en/software" target="_blank">this link</a>. Then, following the setup instructions provided on <a href="https://learn.sparkfun.com/tutorials/artemis-development-with-the-arduino-ide/setting-up-the-arduino-ide" target="_blank">this link</a>, we added the SparkFun Arduino Artemis to the IDE, ensuring that the latest SparkFun Apollo3 board package was installed. Finally, we selected RedBoard Artemis Nano as our board.</p>
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Task 1: Run Blink</h2>
                                    <p class="mb-4 text-start">This program blinks an onboard LED by setting the pin connected to the LED to HIGH for one second, followed by setting the pin to LOW for one second. The basic "Blink" example is used to test the LED on the module. With the video below, the code is correctly uploaded to the board and the LED on the board functions properly.</p>
                                    <iframe class="mb-5" width="560" height="315" src="https://youtube.com/embed/X1HsQrllCZ8" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Task 2: Run Serial</h2>
                                    <p class="mb-4 text-start">The code tests serial communication between the computer and the Artemis board. The Artemis board sends a counting test to the serial monitor via UART and echoes any string sent from the computer, demonstrating that serial communication is set up correctly. When using serial communication, ensure the baud rate on the serial monitor matches the one defined in the code (9600 in this case) for proper communication. See the demo video below.</p> 
                                    <iframe class="mb-5" width="560" height="315" src="https://youtube.com/embed/ngC0xr5F0QU" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Task 3: Analog Read</h2>
                                    <p class="mb-4 text-start">The code tests the temperature sensor on the board. It uses the analogReadTemp() function to obtain the raw ADC counts from the temperature sensor and send the data to the serial monitor. In the video, when the finger is removed, the temperature decreases from around 33,900 to about 33,500.</p>
                                    <iframe class="mb-5" width="560" height="315" src="https://youtube.com/embed/rh1vmfPqNuc" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Task 4: Microphone Output</h2>
                                    <p class="mb-4 text-start">The code tests the microphone on the Artemis board. As shown in the video below, the Artemis is able to capture frequency readings from the ambient sound. When I whistle in the video, you can observe the frequency change.</p>
                                    <iframe class="mb-5" width="560" height="315" src="https://youtube.com/embed/gWOaUkqGul8" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Additional tasks: Blink with note "C"</h2>
                                    <p class="mb-4 text-start">With the example code from Arduino (task 4), we can modify the program to turn on the LED on the Artemis board when the note "C" is played. First, the frequency of the note "C" is measured to determine the appropriate frequency range for lighting up the LED (I set the range to 520-530 Hz here). The LED pin is then set to HIGH if the detected loudest frequency falls within that range, and set to LOW otherwise.</p>
                                    <iframe class="mb-5" width="560" height="315" src="https://youtube.com/embed/_bwo3h2kysc" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>                                       
                                    <h2 class="portfolio-title text-secondary mb-3">Part 2 Bluetooth</h2>
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Prelab</h2>
                                    <p class="mb-2 text-start">Before the lab, install Python and pip3 with the latest release. Then, create a virtual environment using the following commands:</p>
                                    <p class="mb-2 text-start">python3 -m pip install --user virtualenv<br>python3 -m venv FastRobots_ble </p>   
                                    <p class="mb-2 text-start">Activate the environment with the following commands:</p>
                                    <p class="mb-2 text-start">.\FastRobots_ble\Scripts\activate</br>jupyter lab</p>                                    
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Configuration</h2>
                                    <p class="mb-4 text-start">To establish a Bluetooth connection, I needed to know my device's MAC address, which I printed to the serial monitor. Also, I need a UUID specific to my board to avoid connecting to the wrong one. All of this information was added to the connections.yaml file in the demo codebase. The following screenshot shows how I obtained the MAC address and UUID.</p>
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab1/mac.png" alt="..." />
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab1/uuid.png" alt="..." />
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Task 1: Echo Command</h2>
                                    <p class="mb-4 text-start">We need the Artemis Board to send and modify strings. To achieve this, I created an ECHO function. In the Arduino code, the function adds the prefix 'Robot says ->' to the original message before sending it. My code and results are shown below.</p>
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab1/echo_code.png" alt="..." />
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab1/echo_result.png" alt="..." />
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Task 2: Send Three Floats</h2>
                                    <p class="mb-4 text-start">We need the board to send floats as well. We created the SEND_THREE_FLOATS command to send three floats and extract the values in the Arduino sketch. The code and results are shown below.</p>
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab1/three_floats_code.png" alt="..." />
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab1/three_floats_ard.png" alt="..." />
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Task 3: Get Time Millis</h2>
                                    <p class="mb-4 text-start">Next, I created a command called GET_TIME_MILLIS and used the onboard timer to track and send timestamps through the Bluetooth connection. The two following screenshots show the Arduino code and the code with results on the Python side.</p>
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab1/case_time.png" alt="..." />
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab1/get_timepy.png" alt="..." />
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Task 4: Notification Handler</h2>
                                    <p class="mb-4 text-start">Next, I set up a notification handler in order to receive strings from the Artemis board and extract the time value.</p>
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab1/notifyhandlerpy.png" alt="..." />
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Task 5: Loop for Time Logging and Data Transfer Rate</h2>
                                    <p class="mb-4 text-start">Then, I wrote a loop to continuously send time data with the code below. On the Python side, I collected the information from the notification handler. From the results below, we can see that the time ranges from 25,272 to 50,709, which is 25,437 milliseconds. We have 1,000 messages, and the size of each message is 7 bytes, so the effective rate is 
                                        1000*7/25.437=275.18 bytes/s</p>
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab1/time_loop.png" alt="..." />
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab1/countmessage.png" alt="..." />
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Task 6: Send Time Data With An Array</h2>
                                    <p class="mb-4 text-start">I created a globally defined array to store timestamps. The SEND_TIME_DATA command first stores the timestamp in the array, then loops through the array and sends each data to my computer. The code for the SEND_TIME_DATA command and the result received by the computer are shown below</p>
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab1/send_time_data.png" alt="..." />
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab1/receive_time_data.png" alt="..." />
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Task 7: Get Temperature Readings</h2> 
                                    <p class="mb-4 text-start">Next, I added a second array of the same size as the timestamp array to store temperature data. I created a command, GET_TEMP_READINGS, to collect both time and temperature readings and store them in both arrays. Then, I merged the two arrays and sent the combined data to the computer. The code for GET_TEMP_READINGS and the results are shown below.</p>
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab1/send_time_temp.png" alt="..." />
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab1/receive_time_temp.png" alt="..." />
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Task 8: Discussion</h2>
                                    <p class="mb-4 text-start">Live data transmission provides real-time updates but comes with higher overhead, potential data loss, and BLE speed limitations. It's suitable for small data points and systems that can handle interruptions. Storing data for later transmission ensures reliability, reduces data loss, and is more robust in unstable conditions, but requires more memory and introduces delays.</p>
                                    <p class="mb-4 text-start">The board has 384 kB of RAM. Storing only time (4 bytes) allows for 96,000 data points, while storing both time and temperature (8 bytes) limits storage to 48,000 data points. With a sampling rate of 100 Hz, each second stores 800 bytes (100 samples × 8 bytes). The total storage required for 48,000 data points is 384,000 bytes, which lasts for 480 seconds (or 8 minutes) before memory runs out. If storage is full, overwriting previous data or reducing the sampling frequency can help extend data collection time.</p> 
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Additional tasks: Effective Data Rate And Overhead</h2>
                                    <p class="mb-4 text-start">We sent data ranging from 5 to 120 bytes, increasing by 5 bytes, and calculated the data rate for both 5-byte and 120-byte replies. The results showed that the effective data rate increases with message size. The delay is determined by Bluetooth latency, and larger replies help reduce overhead, which in turn can increase the data rate. The screenshot below shows how I tested it and the results I obtained.</p>   
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab1/different_bytes_testing.png" alt="..." />
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab1/byte_plot.png" alt="..." />                                
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Additional tasks: Reliability</h2>
                                    <p class="mb-4 text-start">I created the command RELIAVITY_TEST to make the board send 1000 messages, each with its sequence number. On the Python side, the screenshot below shows that all 1000 messages were received, confirming that data transfer via Bluetooth is reliable.</p>
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab1/reliability_result.png" alt="..." />
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Discussion</h2>
                                    <p class="mb-4 text-start">Learning how to establish Bluetooth communication between the board and the computer will be important for future labs. Additionally, comparing different transmission methods and their lengths will help me design more efficient communication strategies, considering both time and memory constraints.</p>                                    
                                    <button class="btn btn-primary" data-bs-dismiss="modal">
                                        <i class="fas fa-xmark fa-fw"></i>
                                        Close Window
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Portfolio Modal 2-->
        <div class="portfolio-modal modal fade" id="portfolioModal2" tabindex="-1" aria-labelledby="portfolioModal2" aria-hidden="true">
            <div class="modal-dialog modal-xl">
                <div class="modal-content">
                    <div class="modal-header border-0"><button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close"></button></div>
                    <div class="modal-body text-center pb-5">
                        <div class="container">
                            <div class="row justify-content-center">
                                <div class="col-lg-8">
                                    <!-- Portfolio Modal - Title-->
                                    <h2 class="portfolio-modal-title text-secondary text-uppercase mb-2">Lab 2</h2>
                                    <h2 class="portfolio-title text-secondary mb-0">IMU</h2>
                                    <!-- Icon Divider-->
                                    <div class="divider-custom">
                                        <div class="divider-custom-line"></div>
                                        <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                                        <div class="divider-custom-line"></div>
                                    </div>
                                    <!-- Portfolio Modal - Image-->
                                    <img class="img-fluid rounded mb-5" src="assets/img/portfolio/IMU.png" alt="..." />
                                    <!-- Portfolio Modal - Text-->
                                    <h2 class="portfolio-title text-secondary mb-3">Objective</h2>
                                    <p class="mb-4 text-start">The purpose of this lab was to test the IMU sensor, which includes an accelerometer, gyroscope, and magnetometer. We also received our actual robots and observed their capabilities.</p>
                                    <h2 class="portfolio-title text-secondary mb-3"style="font-size: 2rem;">Prelab</h2>                                    
                                    <p class="mb-4 text-start">To prepare for this lab, I read about the IMU and familiarized myself with its functionality.</p>
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Task 1: Set up the IMU</h2>
                                    <p class="mb-4 text-start">First, I connect the IMU to the Artemis board using the QWIIC connector, which is shown in the photo below.</p>
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab2/IMU_connect.jpg" alt="..." />
                                    <p class="mb-4 text-start">checkNext, I test the IMU works using the Example Code with rotating, flipping, and accelerating the IMU, which is shown in the video below.</p>
                                    <iframe class="mb-5" width="560" height="315" src="https://youtube.com/embed/hwIPIpXenis" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                                    <p class="mb-4 text-start">The AD0_VAL represents the last bit of the I2C address in the IMU. I set AD0_VAL to 1, which is the default. However, it can be changed to 0 when the ADR jumper is closed, which is useful when using multiple IMUs.</p>
                                    <p class="mb-4 text-start">The accelerometer measures linear acceleration. When the board is flat on a table, X and Y accelerations are minimal, while Z is around 1000 due to gravity (9.8 m/s²). The X, Y, and Z values change as the device moves along each axis. The gyroscope measures angular velocity. It outputs approximately zero when still but responds on the corresponding axis when the board rotates.</p>
                                    <p class="mb-4 text-start">I added a visual indication to show that the board is running by blinking the LED three times on startup. I did this using the example code 'blink' from Lab 1, as shown in the video below.</p>
                                    <iframe class="mb-5" width="560" height="315" src="https://youtube.com/embed/BAaN60yAh2E" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Task 2: Accelerometer</h2>
                                    <p class="mb-4 text-start">With the accelerometer, we can calculate &theta; with the equation &theta;=artan(a<sub>x</sub>,a<sub>z</sub>), and also &psi;=artan(a<sub>y</sub>,a<sub>z</sub>). Since the result is in radians, so we need to multiple 180 and divide pi to get the degree value. The Arduino code for this is shown below.</p>
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab2/equation.png" alt="..." />
                                    <p class="mb-4 text-start">I placed the board flat on the table and rotated it in different directions, testing the pitch and roll at {-90, 0, 90} degrees. The results are shown below.</p>
                                    <p class="mb-2 text-align: center">Pitch=0, Roll=0</p>
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab2/roll_0_degree.png" alt="..." width="70%"/>
                                    <p class="mb-2 text-start">
                                        <span class="roll-text">Roll=90</span>
                                        <span>Roll=-90</span>
                                    </p>
                                    <div class="img-container">
                                    <img class="img-fluid-side rounded mb-5" src="assets/img/lab2/roll__90_degree.png" alt="..." width="80%"/>
                                    <img class="img-fluid-side rounded mb-5" src="assets/img/lab2/roll_90_degree.png" alt="..." width="80%"/>
                                    </div>
                                    <p class="mb-2 text-start">
                                        <span class="roll-text">Pitch=90</span>
                                        <span>Pitch=-90</span>
                                    </p>
                                    <div class="img-container">
                                    <img class="img-fluid-side rounded mb-5" src="assets/img/lab2/pitch_90_degree.png" alt="..." width="80%"/>
                                    <img class="img-fluid-side rounded mb-5" src="assets/img/lab2/pitch__90_degree.png" alt="..." width="80%"/>
                                    </div>
                                    <p class="mb-2 text-start">To prepare for future labs, I wrote a function in Jupyter where the computer sends requests, and the Arduino replies with data. The data is then plotted on a graph with time on the x-axis and data on the y-axis. The code and result are shown below.</p>
                                    <div class="img-container">
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab2/jupyter.png" alt="..." />
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab2/ju_plot.png" alt="..." />  
                                    </div>
                                    <div class="img-container">
                                    <img class="img-fluid-side rounded mb-5" src="assets/img/lab2/Pitch_ju.png" alt="..." width="80%"/>
                                    <img class="img-fluid-side rounded mb-5" src="assets/img/lab2/Roll_ju.png" alt="..." width="80%"/>
                                    </div>                                                                     
                                    <p class="mb-4 text-start">I performed a two-point calibration by positioning the board at 90° and -90°(against the wall) for roll and pitch with specific rotation directions. Using the IMU measurements, I obtained the accelerometer readings for the X, Y, and Z axes, calculated the angles, and compared them with the ideal values. The plot below shows that the error is very small.</p>
                                    <div class="img-container">
                                    <img class="img-fluid-side rounded mb-5" src="assets/img/lab2/Pitch.png" alt="..." style="display: inline-block; " />
                                    <img class="img-fluid-side rounded mb-5" src="assets/img/lab2/Roll.png" alt="..." style="display: inline-block; " />
                                    </div>
                                    <p class="mb-4 text-start">From the two-point calibration, we can use the formula:<br>
                                    CorrectedValue = (((RawValue-RawLow) * ReferenceRange) / RawRange) + ReferenceLow<br>
                                    to understand how roll and pitch can be corrected based on the raw computed angles. <br>
                                    The equation for roll is:<br>
                                    CorrectedValue = (((RawValue - 90) * 180) / 180.849) - 90<br>
                                    and the equation for pitch is:<br>
                                    CorrectedValue = (((RawValue - 90) * 180) / 177.548) - 90</p>
                                    <p class="mb-4 text-start">The accelerometer data was noisy, and placing it on a car would increase noise further. To reduce this, I collected data (by randomly shaking the board) and performed a Fourier Transform in Jupyter Notebook using NumPy, SciPy, and Matplotlib to determine the cutoff frequency. The images below show the original angle data and its FFT result for analysis.</p>
                                    <div class="img-container">
                                        <img class="img-fluid-side rounded mb-5" src="assets/img/lab2/Pitch_ju.png" alt="..." style="display: inline-block; " />
                                        <img class="img-fluid-side rounded mb-5" src="assets/img/lab2/fft_pitch.png" alt="..." style="display: inline-block; " />
                                        </div>
                                    <div class="img-container">
                                        <img class="img-fluid-side rounded mb-5" src="assets/img/lab2/Roll_ju.png" alt="..." style="display: inline-block; " />
                                        <img class="img-fluid-side rounded mb-5" src="assets/img/lab2/fft_roll.png" alt="..." style="display: inline-block; " />
                                        </div>
                                    <p class="mb-4 text-start">Based on the FFT result shown in the graph, the most significant spikes occur between 1-3 Hz, so I set the cutoff frequency at 3 Hz. Using the formula: <br>
                                        &alpha; = T/(T + RC), where RC=1/2&pi;f<sub>c</sub>, and T=1/sampling_rate. <br>
                                        Given that the sampling rate is 49.09 Hz. I calculated the value of &alpha;, which is approximately 0.2774.
                                    </p>
                                    <p class="mb-4 text-start">With the low pass filter, the equation is:<br>
                                    &theta;<sub>LPF</sub>[n]=&theta;*&theta;<sub>RAW</sub>+(1-&theta;)*&theta;<sub>LPF</sub>[n-1]<br>
                                    &theta;<sub>LPF</sub>[n-1]=&theta;<sub>LPF</sub>[n]<br>
                                    By applying this, we can obtain the data with the low-pass filter. The graph below compares the original and filtered data, showing reduced vibration in the filtered signal, which also confirms that the selected cutoff frequency effectively removes unwanted noise without distorting the primary motion data.</p>
                                    <div class="img-container">
                                        <img class="img-fluid-side rounded mb-5" src="assets/img/lab2/lf_pitch.png" alt="..." style="display: inline-block; " />
                                        <img class="img-fluid-side rounded mb-5" src="assets/img/lab2/lf_roll.png" alt="..." style="display: inline-block; " />
                                        </div>
                                    <p class="mb-4 text-start">Using the low-pass filter, we can observe that the signal’s vibration decreases. To be more precise, I placed the IMU on a table and induced noise by gently tapping the table. Below are the original data, its FFT, and the low-pass filtered data. The comparison shows that the filter removes high-frequency noise while preserving motion data.</p>
                                    <div class="img-container">
                                        <img class="img-fluid-side rounded mb-5" src="assets/img/lab2/roll_flat_fft.png" alt="..." style="display: inline-block; " />
                                        <img class="img-fluid-side rounded mb-5" src="assets/img/lab2/roll_flat.png" alt="..." style="display: inline-block; " />
                                        </div>
                                    <div class="img-container">
                                        <img class="img-fluid-side rounded mb-5" src="assets/img/lab2/pitch_flat_fft.png" alt="..." style="display: inline-block; " />
                                        <img class="img-fluid-side rounded mb-5" src="assets/img/lab2/pitch_flat.png" alt="..." style="display: inline-block; " />
                                        </div>
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Task 3: Gyroscope</h2>
                                    <p class="mb-4 text-start">Using the gyroscope data, we can calculate the raw pitch, roll, and yaw by updating the angles as follows:<br>
                                        pitch_g = pitch_g + myICM.gyrY() * dt <br>
                                        roll_g = roll_g + myICM.gyrX() * dt <br>
                                        yaw_g = yaw_g + myICM.gyrZ() * dt <br>
                                    </p>
                                    <p class="mb-4 text-start">With a sampling rate of approximately 422Hz, we can generate three plots: one showing the roll, pitch, and yaw from the gyroscope; one displaying the roll from both the gyroscope and accelerometer, along with the low-pass filtered accelerometer data; and another showing the pitch from both the gyroscope and accelerometer, along with the low-pass filtered accelerometer data.</p>
                                    <div class="img-container">
                                        <img class="img-fluid-three rounded mb-5" src="assets/img/lab2/400_gyro.png" alt="..." style="display: inline-block; " />
                                        <img class="img-fluid-three rounded mb-5" src="assets/img/lab2/400_r.png" alt="..." style="display: inline-block; " />
                                        <img class="img-fluid-three rounded mb-5" src="assets/img/lab2/400_p.png" alt="..." style="display: inline-block; " />
                                        </div>
                                    <p class="mb-4 text-start">With a sampling rate of approximately 153.5Hz, I generate the following results shown below.</p>
                                    <div class="img-container">
                                        <img class="img-fluid-three rounded mb-5" src="assets/img/lab2/15_gyro.png" alt="..." style="display: inline-block; " />
                                        <img class="img-fluid-three rounded mb-5" src="assets/img/lab2/15_r.png" alt="..." style="display: inline-block; " />
                                        <img class="img-fluid-three rounded mb-5" src="assets/img/lab2/15_p.png" alt="..." style="display: inline-block; " />
                                        </div>
                                        <p class="mb-4 text-start">With a sampling rate of approximately 32.91 Hz, with the movement rotating the board around the x-axis from 0° to 90° twice, followed by a rotation around the y-axis from 0° to -90° once, I generated the following results shown below.</p>
                                        <div class="img-container">
                                            <img class="img-fluid-three rounded mb-5" src="assets/img/lab2/32_gyro.png" alt="..." style="display: inline-block; " />
                                            <img class="img-fluid-three rounded mb-5" src="assets/img/lab2/32_r.png" alt="..." style="display: inline-block; " />
                                            <img class="img-fluid-three rounded mb-5" src="assets/img/lab2/32_p.png" alt="..." style="display: inline-block; " />
                                            </div>
                                    <p class="mb-4 text-start">The accelerometer is noisy, especially at high sampling rates, but at lower sampling rates, the noise is less pronounced and not affected by drift. The gyroscope excels at detecting fast movements since it's less influenced by noise. Therefore, a complementary filter can be used to combine the strengths of both sensors.</p> 
                                    <p class="mb-4 text-start">I use a complementary filter to compute an estimate of pitch and roll that is both accurate and stable, using the equation shown below.<br>
                                        &theta;=(&theta;+&theta;<sub>g</sub>)(1-&alpha;)+&theta;<sub>a</sub>&alpha;<br>
                                        I tested by rotating the board around the x-axis from 0° to 90° twice, followed by a rotation around the y-axis from 0° to -90° once. I then compared the original accelerometer data, low-pass filtered accelerometer data, gyroscope data, and the complementary filter output with alpha values of 0.7 and 0.3.
                                    <p>
                                    <div class="img-container">
                                        <img class="img-fluid-side rounded mb-5" src="assets/img/lab2/Comp_Roll.png" alt="..." style="display: inline-block; " />
                                        <img class="img-fluid-side rounded mb-5" src="assets/img/lab2/Comp_Pitch.png" alt="..." style="display: inline-block; " />
                                        </div>
                                    <p class="mb-4 text-start">When alpha is large, the filter relies more on the accelerometer, reducing drift but increasing noise, making it suitable for static applications. When alpha is small, it relies more on the gyroscope, reducing vibrations and noise, but increasing drift, making it ideal for fast-moving environments.</p>
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Task 4: Sample Data</h2>
                                    <p class="mb-4 text-start">I sampled data 200 times without any Serial.print, only checking readiness, and storing it in an array. I measured the start and end times, with the sampling rate calculated as 435 Hz. Also, when the data was not ready, I incremented a variable count. The result showed count = 0, which means that as soon as the program started running, the data was already prepared. This indicates that the IMU updates faster than the Artemis main loop. The code below shows how I measured the time gap to calculate the sampling rate.</p>
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab2/get_data_sampling_rate.png" alt="..." style="display: inline-block; " />
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab2/sampling_rate.png" alt="..." style="display: inline-block; " />
                                    <p class="mb-4 text-start">I also conducted a test where I stored the time after one sample and recorded the time before the IMU was ready for the next sample to determine how quickly new values could be sampled. The result was approximately few milliseconds.</p>
                                    <p class="mb-4 text-start">Next, I added flags to start/stop data recording, with Jupyter sending control signals to collect and store time-stamped IMU data in arrays within the main loop. The screenshots below show my code and the result (I set it to print the number of measurements taken to calculate the sampling rate).</p>
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab2/start_end.png" alt="..." style="display: inline-block; " />
                                    <p class="mb-4 text-start">I need to store at least 5 seconds of data. Each 32B measurement includes acceleration (float), angle values (float), and a timestamp (int). With 384kB of memory, I can store 12,000 measurements. At ~330 Hz (slightly reduced due to storage and stop command handling), this allows ~33 seconds of recording.</p>
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab2/loop_array.png" alt="..." style="display: inline-block; " />
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab2/count.png" alt="..." style="display: inline-block; " />                                   
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Task 5: Record a Stunt</h2>
                                    <p class="mb-4 text-start">I tested my car by driving it straight, moving backward, and turning right and left. I also tested its ability to move forward and turn, as well as move backward and turn. Based on my observations, the acceleration and spinning work well. It runs very fast at full speed, but the braking is quite weak. Also, when attempting to move straight, the movement is not perfectly straight, so I may need to implement some calibration in future labs.</p>
                                    <iframe class="mb-5" width="560" height="315" src="https://youtube.com/embed/8d8gFPNYt0s" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                                    <button class="btn btn-primary" data-bs-dismiss="modal">
                                        <i class="fas fa-xmark fa-fw"></i>
                                        Close Window
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Portfolio Modal 3-->
        <div class="portfolio-modal modal fade" id="portfolioModal3" tabindex="-1" aria-labelledby="portfolioModal3" aria-hidden="true">
            <div class="modal-dialog modal-xl">
                <div class="modal-content">
                    <div class="modal-header border-0"><button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close"></button></div>
                    <div class="modal-body text-center pb-5">
                        <div class="container">
                            <div class="row justify-content-center">
                                <div class="col-lg-8">
                                    <!-- Portfolio Modal - Title-->
                                    <h2 class="portfolio-modal-title text-secondary text-uppercase mb-0">Lab 3</h2>
                                    <h2 class="portfolio-title text-secondary mb-0">Time of Flight Sensors</h2>
                                    <!-- Icon Divider-->
                                    <div class="divider-custom">
                                        <div class="divider-custom-line"></div>
                                        <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                                        <div class="divider-custom-line"></div>
                                    </div>
                                    <!-- Portfolio Modal - Image-->
                                    <img class="img-fluid rounded mb-5" src="assets/img/portfolio/Tof.png" alt="..." />
                                    <!-- Portfolio Modal - Text-->
                                    <h2 class="portfolio-title text-secondary mb-3">Objective</h2>
                                    <p class="mb-4 text-start">The purpose of this lab is to equip our robots with distance sensors to detect surrounding objects.</p>
                                    <h2 class="portfolio-title text-secondary mb-3"style="font-size: 2rem;">Prelab</h2>
                                    <p class="mb-4 text-start">Both ToF sensors default to the same address 0x52. If both communicate simultaneously, a bus collision occurs. However, since their addresses are programmable, we can use the XSHUT pin to disable one, set a new address for the other, and then use independent addresses.</p>
                                    <p class="mb-4 text-start">To prepare for this lab, I designed my wiring diagrams, as shown below.</p>
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab3/wire.jpg" alt="..." />
                                    <p class="mb-4 text-start">My robot will use two ToF sensors—one in the front for obstacle detection and one in the back for rear detection, as shown in the diagram below. At the same time, I am also considering whether placing sensors on the sides would help with rotation. However, assuming that the wheels may influence rotation detection, I chose not to place ToF sensors on the sides. The mounting position may be adjusted based on future results.</p>
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab3/car_tof.jpg" alt="..." />
                                    <p class="mb-4 text-start">Since ToF sensors require more flexible placement than the IMU, I chose long QWIIC cables to allow for better positioning on the robot.</p>                                    
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Task 1: Picture of ToF sensor connected to QWIIC breakout board</h2>
                                    <p class="mb-4 text-start">First, I connected the ToF sensor to the QWIIC breakout board to verify that it works.</p>
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab3/Tof_wire.jpg" alt="..." />
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Task 2: Screenshot of Artemis scanning for I2C device</h2>
                                    <p class="mb-4 text-start">I obtained the I2C address by running an example program in Arduino.</p>
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab3/Tof_address.png" alt="..." />
                                    <p class="mb-4 text-start">It shows that the address is 0x29, which does not match the default (0x52). However, we can see that 0x29 is derived from 0x52 >> 1. The last bit of the I2C address indicates 0 for a write and 1 for a read, so only the first 7 bits are considered.</p>
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Task 3: Discussion and pictures of sensor data with chosen mode</h2>
                                    <p class="mb-4 text-start">The ToF sensor has three modes: Short, Medium, and Long. Short mode offers the highest accuracy in ambient light and the fastest response time, while Long mode provides the longest detection range but is more affected by ambient light and has a slower response. Medium mode balances accuracy, range, and speed.<br>
                                    Since my robot will operate indoors with ambient light and does not move very fast, a longer detection range is not necessary. I initially considered Short mode, but if it proves insufficient, I may switch to a different mode for future experiments. The picture below shows how I used the tape measure and conducted the testing.</p>
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab3/tof_testing.jpg" alt="..." />
                                    <p class="mb-4 text-start">I tested the ToF sensor from 50 mm to 1500 mm, repeating the measurement 10 times and calculating the standard deviation, as shown in the plot and table below.</p>
                                    <div class="img-container">
                                        <img class="img-fluid-side rounded mb-5" src="assets/img/lab3/tof_dis.png" alt="..." width="80%"/>
                                        <img class="img-fluid-side rounded mb-5" src="assets/img/lab3/tof_std.png" alt="..." width="80%"/>
                                        </div>
                                    <p class="mb-4 text-start">From the results, I conclude that the ToF sensor is generally acceptable. However, there are sometimes significant variations in the measurements. In future tests, I may need to repeat the measurements or combine it with other sensors to improve accuracy.</p>
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Task 4: 2 ToF sensors and the IMU: Discussion and screenshot/video of sensors working in parallel</h2>
                                    <p class="mb-4 text-start">As shown in the pre-lab section, I soldered the XSHUT pin of one ToF sensor and wired it to pin 8 on the Artemis. The XSHUT pin is initially set low to put the sensor in standby mode, then the other sensor’s I2C address is changed to 0x30. Later, setting XSHUT high allows both sensors to operate on the same I2C bus with different addresses. The setup code below demonstrates this, using the shortest distance mode. And the Screenshot below shows the results.</p>
                                    <script src="https://gist.github.com/pengrulung/79695f98607114eee2a3af6d48dcff11.js"></script>
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab3/2_TOF.png" alt="..." />
                                    <p class="mb-4 text-start">After ensuring that both ToF sensors work simultaneously, I added the IMU to our testing. The video below shows that they can operate in parallel.</p>
                                    <iframe class="mb-5" width="560" height="315" src="https://youtube.com/embed/e_5O_w07H7w" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Task 5: Tof sensor speed: Discussion on speed and limiting factor; include code snippet of how you do this</h2>
                                    <p class="mb-4 text-start">Next, I focused on recording data as quickly as possible. The first step was to remove all delays and unnecessary data collection points. I also moved the .startRanging() command into the void setup() function so that the loop wouldn't call it every time. Then, I added a time print in the loop() function. With some basic math, I can determine how much time each loop takes. The code is as follows:</p>
                                    <script src="https://gist.github.com/pengrulung/d5502a57df2c5b380be065c42c5a8adf.js"></script>
                                    <p class="mb-4 text-start">With the screenshot shown below, each loop takes about 8-9 ms, corresponding to a sampling rate of 120 Hz. Since some time is used for serial printing, the I2C communication between the Artemis and the sensor would be the limiting factor when collecting data.</p>  
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab3/tof_sampling.png" alt="..." />  
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Task 6: Time v Distance</h2>
                                    <p class="mb-4 text-start">I recorded time-stamped ToF data for about 30 seconds (with the ToF sensors in the same horizontal position, moving further away from the wall), and then sent these data over Bluetooth to my computer for plotting.</p>
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab3/time_dis.png" alt="..." />
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Task 7: Time v Angle</h2>
                                    <p class="mb-4 text-start">Next, I combined all the sensors, as shown in the setup below. I tested the system with Jupyter Lab sending commands to start and stop data recording, and the board transmitting the data over Bluetooth to the computer. The plots below show IMU accelerometer data vs. time and data from two ToF sensors vs. time.</p>
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab3/all_sensors.jpg" alt="..." />
                                    <div class="img-container">
                                        <img class="img-fluid-side rounded mb-5" src="assets/img/lab3/time_tofs.png" alt="..." width="80%"/>
                                        <img class="img-fluid-side rounded mb-5" src="assets/img/lab3/angle.png" alt="..." width="80%"/>
                                        </div>
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Additional Tasks: Discussion on infrared transmission based sensors</h2>
                                    <p class="mb-4 text-start" style="font-weight: bold;">Infrared Triangulation Sensors:</p>
                                    <p class="mb-4 text-start">Pros: Cheap <br>Cons: Susceptible to interference, Accuracy depends on surface reflectivity</p>
                                    <p class="mb-4 text-start" style="font-weight: bold;">Infrared Reflectance Sensors:</p>
                                    <p class="mb-4 text-start" >Pros: Small, Cheap, Good for small-range detection<br>Cons: Short range</p>
                                    <p class="mb-4 text-start" style="font-weight: bold;">Infrared Time-of-Flight (ToF) Sensors(we used this in our lab):</p>
                                    <p class="mb-4 text-start">Pros: Small, Range, Fast response<br>Cons: Expensive</p>
                                    <p class ="mb-4 text-start">Although our sensor is more expensive, it offers a greater range, a smaller size for a better fit on the car, and a faster response, making it more suitable for placement on our robot car.</p>
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Additional Tasks: Sensitivity of sensors to colors and textures</h2>  
                                    <p class="mb-4 text-start">I tested the sensor's sensitivity to colors and textures by taking distance measurements with our ToF sensor in short distance mode, targeting different objects (a white wall, a red bag, a blue bag, and a black fluffy jacket). The picture shows the objects used for testing, and the plot on the right shows the measurements. Although some variations occur above 1200 mm (with a maximum distance of 1350 mm in short distance mode), the results are acceptable and not significantly affected by color or distance.</p>                                
                                    <div class="img-container">
                                        <img class="img-fluid-side rounded mb-5" src="assets/img/lab3/objects.jpg" alt="..." width="40%"/>
                                        <img class="img-fluid-side rounded mb-5" src="assets/img/lab3/ct_dis.png" alt="..." width="100%"/>
                                        </div>
                                    <button class="btn btn-primary" data-bs-dismiss="modal">
                                        <i class="fas fa-xmark fa-fw"></i>
                                        Close Window
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Portfolio Modal 4-->
        <div class="portfolio-modal modal fade" id="portfolioModal4" tabindex="-1" aria-labelledby="portfolioModal4" aria-hidden="true">
            <div class="modal-dialog modal-xl">
                <div class="modal-content">
                    <div class="modal-header border-0"><button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close"></button></div>
                    <div class="modal-body text-center pb-5">
                        <div class="container">
                            <div class="row justify-content-center">
                                <div class="col-lg-8">
                                    <!-- Portfolio Modal - Title-->
                                    <h2 class="portfolio-modal-title text-secondary text-uppercase mb-0">Lab 4</h2>
                                    <h2 class="portfolio-title text-secondary mb-0">Motors and Open Loop Control</h2>
                                    <!-- Icon Divider-->
                                    <div class="divider-custom">
                                        <div class="divider-custom-line"></div>
                                        <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                                        <div class="divider-custom-line"></div>
                                    </div>
                                    <!-- Portfolio Modal - Image-->
                                    <img class="img-fluid rounded mb-5" src="assets/img/portfolio/car2.jpg" alt="..." width="300px"/>
                                    <!-- Portfolio Modal - Text-->
                                    <h2 class="portfolio-title text-secondary mb-3">Objective</h2>
                                    <p class="mb-4 text-start">In this lab, we used the components in hand, soldered them onto our robot car, got our robot moving, and achieved open-loop control of the car.</p>
                                    <h2 class="portfolio-title text-secondary mb-3"style="font-size: 2rem;">Prelab</h2>
                                    <p class="mb-4 text-start">To prepare for this lab, I drew the wire diagram shown below, using A13–A16 as the control pins for motors.</p>
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab4/wire1.jpg" alt="..." />
                                    <p class="mb-4 text-start">Our motors are connected to a separate power supply from the Artemis board and other sensors because the motor supply generates more noise and requires higher current, which could potentially interfere with the Artemis board and sensors. Additionally, the motor drivers require more power than the Artemis, so we use an 850mAh battery for the motor drivers and a 650mAh battery for the Artemis.</p>                             
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Task 1: Picture of your setup with power supply and oscilloscope hookup</h2>
                                    <p class="mb-4 text-start">After soldering the Artemis board to the motor driver, we used an oscilloscope and a power supply to test our PWM signal. The picture below shows the setup.</p>
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab4/setup.png" alt="..." />
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Task 2: Power supply setting discussion</h2>
                                    <p class="mb-4 text-start">Based on the DRV8833 datasheet, the motor voltage can range from 2.7V to 10.8V. With the plan to drive the motors with a 3.7V battery, I decided to set the voltage supply to 3.7V.</p>
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Task 3: Testing the motor drivers</h2>
                                    <p class="mb-4 text-start">Next, I tested the motor driver by using the code below to generate a PWM signal. I set pins 13, 14, 15, and 16 as output pins for motor control. Since the PWM signal ranges from 0 (always off) to 255 (always on), I increment the signal up to 255.</p> 
                                    <script src="https://gist.github.com/pengrulung/4fb6e4583d9ea4f95cd77ed15c57eb34.js"></script>
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Task 4: Video of my oscilloscope</h2>
                                    <p class="mb-4 text-start">With the code below running, I obtained the result on the oscilloscope with two channels connected to each motor driver, which is shown in the video below.</p>
                                    <iframe class="mb-5" width="560" height="315" src="https://youtube.com/embed/cyxIMvHZzgI" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>                                   
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Task 5: Short video of wheels spinning as expected</h2>
                                    <p class="mb-4 text-start">After checking the PWM signal with the oscilloscope, I tested the wheels to ensure they ran as expected with the code below. I also verified movement in both directions, as shown in the video below.</p>
                                    <script src="https://gist.github.com/pengrulung/2b84df38c85870dc7aa337ab43a1fafa.js"></script>
                                    <iframe class="mb-5" width="560" height="315" src="https://youtube.com/embed/5CL5Rcs9glI" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>                                   
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Task 6: Short video of both wheels spinning</h2>
                                    <p class="mb-4 text-start">Next, I tested my robot car with batteries—one for the Artemis board and another for the motor driver—using the same code, as shown in the video below.</p>
                                    <iframe class="mb-5" width="560" height="315" src="https://youtube.com/embed/EAC0irulvX0" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>                                   
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Task 7: Picture of all the components secured in the car all the component labeled</h2>
                                    <p class="mb-4 text-start">After soldering all the components and powering the robot car with a battery, I secured everything to the car, as shown in the picture below.</p>
                                    <div class="img-container">
                                        <img class="img-fluid-side rounded mb-5" src="assets/img/lab4/car2.png" alt="..." width="80%"/>
                                        <img class="img-fluid-side rounded mb-5" src="assets/img/lab4/car1.png" alt="..." width="80%"/>
                                        </div>
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Task 8: Lower limit PWM value discussion</h2>
                                    <p class="mb-4 text-start">Through experimentation by manually changing the PWM value, I found that the minimum PWM for the robot car to move forward was 33 (a duty ratio of 33/255 ≈ 0.129). Below this value, the car lacks the power to start moving.
                                        <br>For turning, I found that the minimum PWM for the robot car to move was 78 (a duty ratio of 78/255 ≈ 0.306)<br>However, I noticed that sometimes the minimum value increases by about 5-10 as the same battery is used over time.
                                    </p>
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Task 9: Calibration demonstration</h2>
                                    <p class="mb-4 text-start">To compensate for motor speed differences, I calibrated the robot to move straight for at least 2 meters. I marked the 2m point with small blue tape. The video and code are shown below. With manual adjustment, I found the calibration factor to be 1.125.</p>
                                    <script src="https://gist.github.com/pengrulung/02f5245e29afe927f84d75d114accd7d.js"></script>
                                    <iframe class="mb-5" width="560" height="315" src="https://youtube.com/embed/A6fq9gbk28A" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>                                   
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Task 10: Open loop</h2>
                                    <p class="mb-4 text-start">Next, I tested the robot to move forward, turn right, turn left, and move backward. The video and code are shown below.</p>
                                    <script src="https://gist.github.com/pengrulung/2d7f59dced6bb3e49ff805611a325dbd.js"></script>
                                    <iframe class="mb-5" width="560" height="315" src="https://youtube.com/embed/mvDRxXFiRlw" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>                                   
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Additional tasks: analogWrite frequency discussion</h2>
                                    <P class="mb-4 text-start">For testing analogWrite frequency, I let it generate 10 times and measured the time gap from start to end. The calculated frequency is approximately 184.3 Hz. 
                                    <br>From the result, I think analogWrite is fast enough, as the PWM frequency for our motor driver is 50 kHz (based on the DRV8833 datasheet). Generating a faster PWM signal could also help make the robot car move more smoothly.</P>
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab4/freq.png" alt="..." />
                                    <script src="https://gist.github.com/pengrulung/97c01b38a6be1b1f690495dfc063689c.js"></script>
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Additional tasks: lowest PWM value speed (once in motion) discussion</h2>
                                    <p class="mb-4 text-start">Next, I tried to find the lowest PWM value while in motion. I started from a value of 35 and decreased it by 1 every second, with the LED blinking once. Based on the calculation, I found that the lowest PWM value in motion is 26.</p>
                                    <script src="https://gist.github.com/pengrulung/c497e7d1160f76525fab35cf0dc966f5.js"></script>
                                    <iframe class="mb-5" width="560" height="315" src="https://youtube.com/embed/spdi0bZjkUE" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>                                   
                                    <p class="mb-4 text-start">I also conducted a test to check how fast the robot could settle at its slowest speed. I started by running the lowest PWM value (33) that made the robot start moving for 0.5 seconds, then changed it to the lowest PWM value in motion (26). Through the experiment, I found that this was the fastest way the robot could settle at its slowest speed. The video is shown below.</p>
                                    <iframe class="mb-5" width="560" height="315" src="https://youtube.com/embed/lTsYPb9HylA" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>                                   
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Acknowledgements</h2>
                                    <p class="mb-4 text-start">Cameron Urban for helping me with soldering during office hours.
                                    <br>Wenyi Fu (2024) for using the blink method when finding the lowest PWM value.</p>
                                    <button class="btn btn-primary" data-bs-dismiss="modal">
                                    <i class="fas fa-xmark fa-fw"></i>
                                    Close Window
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Portfolio Modal 5-->
        <div class="portfolio-modal modal fade" id="portfolioModal5" tabindex="-1" aria-labelledby="portfolioModal5" aria-hidden="true">
            <div class="modal-dialog modal-xl">
                <div class="modal-content">
                    <div class="modal-header border-0"><button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close"></button></div>
                    <div class="modal-body text-center pb-5">
                        <div class="container">
                            <div class="row justify-content-center">
                                <div class="col-lg-8">
                                    <!-- Portfolio Modal - Title-->
                                    <h2 class="portfolio-modal-title text-secondary text-uppercase mb-0">Lab 5</h2>
                                    <h2 class="portfolio-title text-secondary mb-0">Linear PID control and Linear interpolation</h2>
                                    <!-- Icon Divider-->
                                    <div class="divider-custom">
                                        <div class="divider-custom-line"></div>
                                        <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                                        <div class="divider-custom-line"></div>
                                    </div>
                                    <!-- Portfolio Modal - Image-->
                                    <img class="img-fluid rounded mb-5" src="assets/img/portfolio/PID_p.png" alt="..." width="300px"/>
                                    <!-- Portfolio Modal - Text-->
                                    <h2 class="portfolio-title text-secondary mb-3">Objective</h2>
                                    <p class="mb-4 text-start">The purpose of this lab is to become familiar with PID control and to use a ToF sensor for implementing position control. My plan is to implement full PID control for position control.</p>
                                    <h2 class="portfolio-title text-secondary mb-3"style="font-size: 2rem;">Prelab</h2>
                                    <p class="mb-4 text-start">To prepare for this lab, I set up Bluetooth commands to send and receive data. I already have a command, GET_DATA, to retrieve the recorded data, which I completed earlier. I also included the SET_PID command to adjust PID values without re-uploading the board and the START_MOVE command to initiate the car's forward motion with PID control while optionally recording data. Additionally, I added the STOP_MOVE command to stop the pid control and the car. The code is shown below:</p>
                                    <script src="https://gist.github.com/pengrulung/bb95696d247cfb69b10f344fd4aeaec1.js"></script> 
                                    <p class="mb-4 text-start">Additionally, I added a notification handler to help me receive the data sent from the robot car. This allows me to gather the data, plot it, and also use it for debugging and adjusting my strategy.</p>                         
                                    <script src="https://gist.github.com/pengrulung/119fa0458792646a802f6613a655fa07.js"></script>
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">P/I/D discussion</h2>
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab5/PID.png" alt="..." />
                                    <p class="mb-4 text-start">A PID controller can be implemented using the equation above, which consists of three components: proportional control K<sub>p</sub>, integral control K<sub>i</sub>, and derivative control K<sub>d</sub>.<br>
                                    The proportional term K<sub>p</sub> directly responds to the current error, which is the difference between the current position and the target position. Increasing K<sub>p</sub> enhances the correction speed, helping the system reach the desired position more quickly. However, an excessively high K<sub>p</sub> may lead to overshooting.<br>  
                                    The integral term K<sub>i</sub> compensates for accumulated error over time. Even if the error is small, it can build up gradually. While K<sub>i</sub> helps eliminate steady-state error, setting it too high may result in excessive overshooting.  <br>
                                    The derivative term K<sub>d</sub> acts as a damping factor by considering the rate of change of error. It helps slow down corrections when the PI terms produce aggressive responses. However, one drawback of K<sub>d</sub> is that it can amplify noise, potentially leading to unstable behavior.</p>
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">P Controller</h2>
                                    <p class="mb-4 text-start">I started building my PID controller with a P controller. Since the task is to run a distance of 2-4 meters, my plan is to run at 100% speed when the error is about 4000mm and at 10% speed when the error is about 400mm. Thus, I began testing with Kp = 0.025. To be more conservative at the beginning, I limited the maximum speed to 45% (with a PWM value of about 100) if the speed exceeded 45%. However, with this setting, my robot still ran into the wall. I tried decreasing Kp slightly, and it turned out to work. As a result, I decided on Kp = 0.02. For other parameter settings, I set pid_pos_target to 500mm since I don't want my car to bump into the wall. The sc_pwm value is 2.55, which helps convert my p term to a PWM signal.<br>
                                    Below is the code and the video.</p>
                                    <script src="https://gist.github.com/pengrulung/4d7f73f2b751ac61dda59f1b85040da2.js"></script>
                                    <iframe class="mb-5" width="560" height="315" src="https://youtube.com/embed/eG07RxKlP2M" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>                                   
                                    <p class="mb-4 text-start">I also plotted graphs showing ToF sensor data vs. time, P term vs. time, and PWM data vs. time. The ToF sensor shows the distance(mm) to the wall, and the P term represents the current error (the distance to the wall minus 500mm) multiplied by Pi (which I set to 0.02). The PWM data represents the value I assigned to the motor. These help me better understand how my car works and how I can adjust my plan.</p>   
                                    <img class="img-fluid rounded mb-3" src="assets/img/lab5/p__t.png" alt="..." />
                                    <img class="img-fluid rounded mb-3" src="assets/img/lab5/p_p.png" alt="..." />
                                    <img class="img-fluid rounded mb-3" src="assets/img/lab5/p_pwm.png" alt="..." />
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Range/Sampling time discussion</h2>
                                    <p class="mb-4 text-start">Before moving to the I/D term, I realized that I need to think about how to decouple sampling rate and the PID controlling rate. In my previous work, the main loop waited for the ToF sensor to be ready before continuing, which meant that the PID operation was restricted and delayed by the ToF sampling rate. Based on tests from previous labs, I concluded that the main loop runs faster than the ToF sensor. To prevent delays caused by the ToF sensor, I attempted to extrapolate an estimate of the car’s distance to the wall using the last two data readings from the ToF sensor. Consequently, I revised my code accordingly, as shown below. </p>
                                    <script src="https://gist.github.com/pengrulung/827a0a25054c655e81bc5e5a557b2ed3.js"></script>
                                    <p class="mb-4 text-start">Additionally, I calculated both the main loop execution rate and the ToF sampling rate. The main loop runs at 120.779Hz, and the ToF sampling rate is 10.223Hz, which is slower than the main loop. Thus, it is necessary to use the estimation and let the PID controller keep running instead of delaying the PID loop as I did previously.</p>
                                    <img class="img-fluid rounded mb-3" src="assets/img/lab5/rate.png" alt="..." />
                                    <p class="mb-4 text-start">I plotted the measured ToF data and the estimated data, as shown below.</p>
                                    <img class="img-fluid rounded mb-3" src="assets/img/lab5/mea_est.png" alt="..." />
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">PI Controller</h2>
                                    <p class="mb-4 text-start">Next, I started to implement the PI controller by adding some code, which is shown below.
                                    <br>I only added a few lines to implement the PI controller, introducing a new term—the integrated error—into my overall PWM calculation. I manually adjusted the Ki value, starting with Ki = 0.01. However, when the car needed to slow down and stop, the integral term prevented it from decreasing speed properly. So, I reduced Ki and found that Ki = 0.00001 allowed the car to stop in front of the wall. 
                                    <br>Also, I limit the value from 15 to -15 here based on multiple tests. 
                                    </p> 
                                    <script src="https://gist.github.com/pengrulung/76d08652bbcb77573788a937729fd559.js"></script>
                                    <p class="mb-4 text-start">I also made some small adjustments. After observing my PI terms and distance-speed changes, I found that the I term was still decreasing slowly when the robot car was about to bump into the wall. Thus, I adjusted the I term to 0 when the robot car passed the target point, with the code shown below.</p>
                                    <script src="https://gist.github.com/pengrulung/d681cd25e4b2b964e969014a006e505a.js"></script>
                                    <p class="mb-4 text-start">And the vedio is shown below, along with my plotted graphs displaying ToF sensor data vs. time, P term vs. time, and PWM data vs. time.</p>
                                    <iframe class="mb-5" width="560" height="315" src="https://youtube.com/embed/3yF_qli25Vg" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>                                   
                                    <img class="img-fluid rounded mb-3" src="assets/img/lab5/pii_dis.png" alt="..." />
                                    <img class="img-fluid rounded mb-1" src="assets/img/lab5/piih_pi.png" alt="..." />
                                    <img class="img-fluid rounded mb-3" src="assets/img/lab5/pii_pwm.png" alt="..." />
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">PID Controller</h2>
                                    <p class="mb-4 text-start">Finally, I added the derivative term to the PID controller. First, I calculated the difference between the current error and the last error, then divided by dt. The update didn’t happen the first time. I added a low-pass filter (LPF) because the ToF data is noisy, which made the derivative unstable. Adding the LPF helps stabilize the derivative term and make it more reasonable. Through experimentation, I found that an alpha value of 0.15 works well. The code is shown bleow.</p>
                                    <script src="https://gist.github.com/pengrulung/4bbbd6f8210d3a1a06f709a8d3b2ab71.js"></script>
                                    <p class="mb-4 text-start">With multiple testings, I set my Kd to 0.008.</p>
                                    <p class="mb-4 text-start">Below is the plot of distance vs time, PID term vs time, PWM vs time, as well as the demo video.</p>
                                    <img class="img-fluid rounded mb-3" src="assets/img/lab5/pid_dis.png" alt="..." />
                                    <img class="img-fluid rounded mb-3" src="assets/img/lab5/pid_pid.png" alt="..." />
                                    <p class="mb-1 text-start">Note: The D term is close to 0 but not exactly 0.</p>
                                    <img class="img-fluid rounded mb-3" src="assets/img/lab5/pid_pwm.png" alt="..." />
                                    <iframe class="mb-5" width="560" height="315" src="https://youtube.com/embed/1oTdvb3fX3Y" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>                                   
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Wind-up implementation and discussion</h2>
                                    <p class="mb-4 text-start">Integrator wind-up occurs when the I term of a PID controller accumulates excessive error because the actuator hits its saturation limit and cannot provide more control. This can lead to overshooting or slow recovery once the system starts responding again. Therefore, preventing wind-up is essential to maintaining stable control.
                                    <br> I believe I have already implemented a solution where the integral term resets to zero when the robot passes the target point. However, I made a small modification to my code: now, the integral term resets when the robot passes the correction point, regardless of direction. The updated code is shown below.</p>
                                    <script src="https://gist.github.com/pengrulung/54aedf1eba3cefb00f1cf89db16c8f2a.js"></script>
                                    <p class="mb-4 text-start">I also tested the system with and without wind-up protection on both a wooden floor and a carpet. The demo video shows the robot running on both surfaces, with and without wind-up protection, and the results of the integral (I) term are shown below. Note: I still clamp the I term between -15 and 15.</p>
                                    <iframe class="mb-5" width="560" height="315" src="https://youtube.com/embed/s93hHCTA8Zs" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>                                   
                                    <img class="img-fluid rounded mb-3" src="assets/img/lab5/w_wo_windup.png" alt="..." />
                                    <p class="mb-4 text-start">With wind-up prevention, the I term won't keep increasing when the robot should be decreasing. In the video above, it seems that with or without wind-up, the results are not significantly different, as both cases stop before hitting the wall. The reason they stop before the wall is that the I term remains small, the velocity is low, and the robot requires a higher PWM value to move on the carpet. However, upon closer observation, the robot with wind-up prevention stops closer to the set point, whereas the robot without wind-up tends to overshoot the target (though luckily, it still stops before the wall).</p>
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Final System and Discussion</h2>
                                    <p class="mb-4 text-start">There are still some problems with my system. Instead of adjusting its position to a target point, my robot tends to stop before the wall without fine-tuning its distance from the wall.
                                    <br>To address this, I made some adjustments through experimental testing. I changed my target point to 300 mm.
                                    <br>Additionally, due to limitations with the motor actuators, the robot won't move if the PWM signal is less than 33 (a value determined from a previous lab). To compensate for this, I added 30 to the PWM signal when the robot needs to move backward but the signal is below the threshold, allowing for small adjustments.
                                    <br>In the end, I found that the appropriate PID parameters are Pi = 0.015, Pd = 0.00001, Pk = 0.008.
                                    <br>The plots below show that the robot successfully stops before the wall, with a final position of 300 mm from the wall.</p>   
                                    <img class="img-fluid rounded mb-3" src="assets/img/lab5/final_system_dis.png" alt="..." />
                                    <img class="img-fluid rounded mb-3" src="assets/img/lab5/final_system_pid.png" alt="..." />
                                    <p class="mb-1 text-start">Note: The D term is close to 0 but not exactly 0.</p>
                                    <img class="img-fluid rounded mb-3" src="assets/img/lab5/fianl system_pwm.png" alt="..." />
                                    <p class="mb-4 text-start"> I got the maximun speed in my final system by calculating the Tof sensor data and time is 1.3m/s.
                                    <img class="img-fluid rounded mb-1" src="assets/img/lab5/max_speed.png" alt="..." /> 
                                    <p class="mb-4 text-start">Here is the demo video, with three repeated run.</p>
                                    <iframe class="mb-5" width="560" height="315" src="https://youtube.com/embed/AYge03Bk5xA" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe> 
                                    <br>Although there are more things I could implement, such as faster speeds, more difficult setpoints, and calibration between both wheels (which I have already implemented, but it seems to need more accurate control), I believe I have achieved the lab's goal.</p>
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Acknowledgment</h2>
                                    <p class="mb-4 text-start">Thanks to Ben Liao and Shuchang Wen for their tips on this lab (how to receive Bluetooth data and how to tune the PID), and also to the TAs for their support (ToF sensor setup and tips for the I controller).</p>
                                    <button class="btn btn-primary" data-bs-dismiss="modal">
                                        <i class="fas fa-xmark fa-fw"></i>
                                        Close Window
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Portfolio Modal 6-->
        <div class="portfolio-modal modal fade" id="portfolioModal6" tabindex="-1" aria-labelledby="portfolioModal6" aria-hidden="true">
            <div class="modal-dialog modal-xl">
                <div class="modal-content">
                    <div class="modal-header border-0"><button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close"></button></div>
                    <div class="modal-body text-center pb-5">
                        <div class="container">
                            <div class="row justify-content-center">
                                <div class="col-lg-8">
                                    <!-- Portfolio Modal - Title-->
                                    <h2 class="portfolio-modal-title text-secondary text-uppercase mb-0">Lab 6</h2>
                                    <h2 class="portfolio-title text-secondary mb-0">Orientation Control</h2>
                                    <!-- Icon Divider-->
                                    <div class="divider-custom">
                                        <div class="divider-custom-line"></div>
                                        <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                                        <div class="divider-custom-line"></div>
                                    </div>
                                    <!-- Portfolio Modal - Image-->
                                    <img class="img-fluid rounded mb-5" src="assets/img/portfolio/PID_p.png" alt="..." width="300px"/>
                                    <!-- Portfolio Modal - Text-->
                                    <h2 class="portfolio-title text-secondary mb-3">Objective</h2>
                                    <p class="mb-4 text-start">The purpose of this lab is to use an IMU for implementing orientation control. My plan is to implement full PID control.</p>
                                    <h2 class="portfolio-title text-secondary mb-3"style="font-size: 2rem;">Prelab</h2>
                                    <p class="mb-4 text-start">Similar to what I did in Lab 5, I added the command for setting PID parameters for orientation. Based on the original command for start and end control, I added an additional parameter for starting/ending/recording orientation control. I also added the command for sending the orientation information. The code is shown below.</p>
                                    <script src="https://gist.github.com/pengrulung/7c9a5939aef4a8a94dd4dcf21760f214.js"></script>
                                    <p class="mb-4 text-start">Also, I added a notification handler to help me receive the data sent from the robot car. This allows me to gather the data, plot it, and also use it for debugging and adjusting my strategy.</p>                         
                                    <script src="https://gist.github.com/pengrulung/d5e8229671766050b188e7234ee33890.js"></script>
                                    <p class="mb-4 text-start">Next, I experimented with the DMP, which can correct errors and drift by integrating data from the ICM’s 3-axis gyroscope, accelerometer, and magnetometer. I began with Example7_DMP_Quat6_EulerAngles.</p>
                                    <iframe class="mb-5" width="560" height="315" src="https://youtube.com/embed/ka9PVeqXlrE" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>                                   
                                    <p class="mb-4 text-start">I incorporated the DMP initialization to the setup() function on my Artemis.</p>
                                    <script src="https://gist.github.com/pengrulung/39d45eac3a5b865ba98b05fcd7158a27.js"></script>
                                    <p class="mb-4 text-start">I am getting orientation measurements from the DMP as quaternions and converting them to an Euler angle to determine the yaw in the get_yaw() function, which will be called in the BLE loop.</p>
                                    <script src="https://gist.github.com/pengrulung/afbf33813b75458b8cf83ce1f6d20255.js"></script>
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">P/I/D discussion</h2>
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab5/PID.png" alt="..." />
                                    <p class="mb-4 text-start">A PID controller can be implemented using the equation above, which consists of three components: proportional control K<sub>p</sub>, integral control K<sub>i</sub>, and derivative control K<sub>d</sub>.<br>
                                    The proportional term K<sub>p</sub> directly responds to the current error, which is the difference between the current position and the target position. Increasing K<sub>p</sub> enhances the correction speed, helping the system reach the desired position more quickly. However, an excessively high K<sub>p</sub> may lead to overshooting.<br>  
                                    The integral term K<sub>i</sub> compensates for accumulated error over time. Even if the error is small, it can build up gradually. While K<sub>i</sub> helps eliminate steady-state error, setting it too high may result in excessive overshooting.  <br>
                                    The derivative term K<sub>d</sub> acts as a damping factor by considering the rate of change of error. It helps slow down corrections when the PI terms produce aggressive responses. However, one drawback of K<sub>d</sub> is that it can amplify noise, potentially leading to unstable behavior.</p>
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">P Controller</h2>
                                    <p class="mb-4 text-start">I started building my PID controller with a P controller. The task is orientation control, where I can assign an angle, and the robot car will rotate back to the assigned angle no matter how I push or rotate it. I assign a target angle in the command SET_ORI_PID.</p>
                                    <script src="https://gist.github.com/pengrulung/9877a8071807d85072c991cb59b95217.js"></script>
                                    <p class ="mb-4 text-start">I first get the new yaw and calculate the error between the target and the current yaw, then multiply by Kp. I also check if the error exceeds 180 degrees, and if it does, it can rotate in a small circle (referencing Stephan Wagner, 2024). The sc_ori_pwm value is 2.55, which helps convert the P term into a PWM signal. I set the highest PWM value to 200 since I don't want my robot to spin too fast. I began testing with Kp = 2 and gradually increased the value. After multiple tests, I finally chose Kp = 3.5. Below is the code.</p>
                                    <script src="https://gist.github.com/pengrulung/a6b5d5c70d35c40d0f2b7807612c7100.js"></script>
                                    <p class="mb-4 text-start">I also plotted graphs showing yaw data vs. time, P term vs. time, and PWM data vs. time. These plots help me better understand how my car operates and how I can adjust my plan. And the demo video shown below.</p>   
                                    <img class="img-fluid rounded mb-3" src="assets/img/lab6/p_yaw.png" alt="..." />
                                    <img class="img-fluid rounded mb-1" src="assets/img/lab6/pid_p.png" alt="..." />
                                    <img class="img-fluid rounded mb-3" src="assets/img/lab6/pid_p_pwm.png" alt="..." />
                                    <iframe class="mb-5" width="560" height="315" src="https://youtube.com/embed/1Vru7o2h6hI" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>                                   
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">PI Controller</h2>
                                    <p class="mb-4 text-start">I only added a few lines to implement the I terms, which integrate the error, add it to the I term, and use it to calculate the speed. From multiple testing, I set Ki t0 1.</p>
                                    <script src="https://gist.github.com/pengrulung/689454d1cf90a5740a3bdf6e2fbe02bc.js"></script>
                                    <p class="mb-4 text-start">I plotted graphs showing yaw data vs. time, P/I term vs. time, and PWM data vs. time. These plots help me better understand how my car operates and how I can adjust my plan. And the demo video shown below.</p>   
                                    <img class="img-fluid rounded mb-3" src="assets/img/lab6/pi_yaw.png" alt="..." />
                                    <img class="img-fluid rounded mb-1" src="assets/img/lab6/pid_pi.png" alt="..." />
                                    <img class="img-fluid rounded mb-3" src="assets/img/lab6/pid_pi_pwm.png" alt="..." />
                                    <iframe class="mb-5" width="560" height="315" src="https://youtube.com/embed/GcWCQh64XRA" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>                                   
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">PID Controller</h2>
                                    <p class="mb-4 text-start">Finally, I added the derivative term to the PID controller, computing the error difference divided by dt. The update won’t occur the first time. To stabilize the derivative, I applied a low-pass filter (LPF), finding an alpha value of 0.15 to work well. The code is shown below. With some testing, I found that Kd = 1.1 performs well. </p>
                                    <script src="https://gist.github.com/pengrulung/07385240b61fc1682c030a4179e59459.js"></script>
                                    <p class="mb-4 text-start">The graphs below show yaw data vs. time, P/I/D term vs. time, and PWM data vs. time, helping me better understand how my car operates and how to adjust my plan. The demo video is shown below.</p>   
                                    <img class="img-fluid rounded mb-3" src="assets/img/lab6/pid_yaw.png" alt="..." />
                                    <img class="img-fluid rounded mb-1" src="assets/img/lab6/pid_pid.png" alt="..." />
                                    <img class="img-fluid rounded mb-3" src="assets/img/lab6/pid_motoe.png" alt="..." />
                                    <iframe class="mb-5" width="560" height="315" src="https://youtube.com/embed/juQgJj-wjRQ" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>                                   
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Range/Sampling time discussion</h2>
                                    <p class="mb-4 text-start">I also tested the DMP sampling rate and the main loop rate. The results are shown below. Compared to the ToF sampling rate from Lab 5, the DMP prepares the data faster than the ToF sensor.</p>
                                    <img class="img-fluid rounded mb-3" src="assets/img/lab6/rate.png" alt="..." />
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">wind-up protection</h2>
                                    <p class="mb-4 text-start">Integrator wind-up occurs when the I term accumulates excessive error due to actuator limits, causing overshooting or slow recovery. To prevent this, I added the code below to reset it when the direction should change. </p>
                                    <script src="https://gist.github.com/pengrulung/7065f0193a775a3c2755a7bdfa118406.js"></script>
                                    <img class="img-fluid rounded mb-3" src="assets/img/lab6/windup_yaw.png" alt="..." />
                                    <img class="img-fluid rounded mb-1" src="assets/img/lab6/wind_uppid.png" alt="..." />
                                    <img class="img-fluid rounded mb-3" src="assets/img/lab6/windup_pwm.png" alt="..." />
                                    <p class="mb-4" text-start>In my system, the P term plays a larger role in determining the PWM input, so the influence of windup is not very noticeable. However, from the plot, we can observe that when the car needs to change direction, the I term resets to 0 instead of gradually decreasing as I had originally planned.</p>
                                    <iframe class="mb-5" width="560" height="315" src="https://youtube.com/embed/MQ1C84UneKA" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>                                   
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Different surface</h2>
                                    <p class="mb-4" text-start>I also tested my system on a carpet. Since the minimum force required for the car to rotate is relatively large on the carpet, it moves very slowly, but it is still returning to the assigned angle. It can run faster; however, my system is limited to a max PWM value of 200. I may need to increase the max PWM value and also adjust the weight of Ki so that the integral term can keep accumulating, which would lead to more response. However, I didn't plan to implement this, as I don't expect to run my car on the carpet most of the time. That said, the results show that my car can work on different surfaces.</p>
                                    <img class="img-fluid rounded mb-3" src="assets/img/lab6/carpet_yaw.png" alt="..." />
                                    <img class="img-fluid rounded mb-1" src="assets/img/lab6/carpet_pid.png" alt="..." />
                                    <img class="img-fluid rounded mb-3" src="assets/img/lab6/carpet_pwm.png" alt="..." />
                                    <iframe class="mb-5" width="560" height="315" src="https://youtube.com/embed/ghW2zlgKjSo" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>                                   
                                    <button class="btn btn-primary" data-bs-dismiss="modal">
                                        <i class="fas fa-xmark fa-fw"></i>
                                        Close Window
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Portfolio Modal 7-->
        <div class="portfolio-modal modal fade" id="portfolioModal7" tabindex="-1" aria-labelledby="portfolioModal7" aria-hidden="true">
            <div class="modal-dialog modal-xl">
                <div class="modal-content">
                    <div class="modal-header border-0"><button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close"></button></div>
                    <div class="modal-body text-center pb-5">
                        <div class="container">
                            <div class="row justify-content-center">
                                <div class="col-lg-8">
                                    <!-- Portfolio Modal - Title-->
                                    <h2 class="portfolio-modal-title text-secondary text-uppercase mb-0">Lab 7</h2>
                                    <h2 class="portfolio-title text-secondary mb-0">huy</h2>
                                    <!-- Icon Divider-->
                                    <div class="divider-custom">
                                        <div class="divider-custom-line"></div>
                                        <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                                        <div class="divider-custom-line"></div>
                                    </div>
                                    <!-- Portfolio Modal - Image-->
                                    <img class="img-fluid rounded mb-5" src="assets/img/portfolio/car2.jpg" alt="..." width="300px"/>
                                    <!-- Portfolio Modal - Text-->
                                    <h2 class="portfolio-title text-secondary mb-3">Objective</h2>
                                    <p class="mb-4 text-start">Lorem ipsum dolor sit amet, con</p>
                                    <h2 class="portfolio-title text-secondary mb-3"style="font-size: 2rem;">Prelab</h2>
                                    <p class="mb-4 text-start">To prepare for this lab, </p>
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab4/wire1.jpg" alt="..." />
                                    <p class="mb-4 text-start">Our motors</p>                             
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Task 1: </h2>
                                    <p class="mb-4 text-start">After </p>
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab4/setup.png" alt="..." />
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Task 2: </h2>
                                    <p class="mb-4 text-start">Based on </p>
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Task 3: </h2>
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Task 4: </h2>
                                    <p class="mb-4 text-start">Based on </p>
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Additional tasks: Wind-up implementation and discussion</h2>
                                    <p class="mb-4 text-start">Based on </p>
                                    <button class="btn btn-primary" data-bs-dismiss="modal">
                                        <i class="fas fa-xmark fa-fw"></i>
                                        Close Window
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Portfolio Modal 7-->
        <div class="portfolio-modal modal fade" id="portfolioModal8" tabindex="-1" aria-labelledby="portfolioModal8" aria-hidden="true">
            <div class="modal-dialog modal-xl">
                <div class="modal-content">
                    <div class="modal-header border-0"><button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close"></button></div>
                    <div class="modal-body text-center pb-5">
                        <div class="container">
                            <div class="row justify-content-center">
                                <div class="col-lg-8">
                                    <!-- Portfolio Modal - Title-->
                                    <h2 class="portfolio-modal-title text-secondary text-uppercase mb-0">Lab 8</h2>
                                    <h2 class="portfolio-title text-secondary mb-0">huy</h2>
                                    <!-- Icon Divider-->
                                    <div class="divider-custom">
                                        <div class="divider-custom-line"></div>
                                        <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                                        <div class="divider-custom-line"></div>
                                    </div>
                                    <!-- Portfolio Modal - Image-->
                                    <img class="img-fluid rounded mb-5" src="assets/img/portfolio/car2.jpg" alt="..." width="300px"/>
                                    <!-- Portfolio Modal - Text-->
                                    <h2 class="portfolio-title text-secondary mb-3">Objective</h2>
                                    <p class="mb-4 text-start">Lorem ipsum dolor sit amet, con</p>
                                    <h2 class="portfolio-title text-secondary mb-3"style="font-size: 2rem;">Prelab</h2>
                                    <p class="mb-4 text-start">To prepare for this lab, </p>
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab4/wire1.jpg" alt="..." />
                                    <p class="mb-4 text-start">Our motors</p>                             
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Task 1: </h2>
                                    <p class="mb-4 text-start">After </p>
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab4/setup.png" alt="..." />
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Task 2: </h2>
                                    <p class="mb-4 text-start">Based on </p>
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Task 3: </h2>
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Task 4: </h2>
                                    <p class="mb-4 text-start">Based on </p>
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Additional tasks: Wind-up implementation and discussion</h2>
                                    <p class="mb-4 text-start">Based on </p>
                                    <button class="btn btn-primary" data-bs-dismiss="modal">
                                        <i class="fas fa-xmark fa-fw"></i>
                                        Close Window
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Portfolio Modal 7-->
        <div class="portfolio-modal modal fade" id="portfolioModal9" tabindex="-1" aria-labelledby="portfolioModal9" aria-hidden="true">
            <div class="modal-dialog modal-xl">
                <div class="modal-content">
                    <div class="modal-header border-0"><button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close"></button></div>
                    <div class="modal-body text-center pb-5">
                        <div class="container">
                            <div class="row justify-content-center">
                                <div class="col-lg-8">
                                    <!-- Portfolio Modal - Title-->
                                    <h2 class="portfolio-modal-title text-secondary text-uppercase mb-0">Lab 9</h2>
                                    <h2 class="portfolio-title text-secondary mb-0">huy</h2>
                                    <!-- Icon Divider-->
                                    <div class="divider-custom">
                                        <div class="divider-custom-line"></div>
                                        <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                                        <div class="divider-custom-line"></div>
                                    </div>
                                    <!-- Portfolio Modal - Image-->
                                    <img class="img-fluid rounded mb-5" src="assets/img/portfolio/car2.jpg" alt="..." width="300px"/>
                                    <!-- Portfolio Modal - Text-->
                                    <h2 class="portfolio-title text-secondary mb-3">Objective</h2>
                                    <p class="mb-4 text-start">Lorem ipsum dolor sit amet, con</p>
                                    <h2 class="portfolio-title text-secondary mb-3"style="font-size: 2rem;">Prelab</h2>
                                    <p class="mb-4 text-start">To prepare for this lab, </p>
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab4/wire1.jpg" alt="..." />
                                    <p class="mb-4 text-start">Our motors</p>                             
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Task 1: </h2>
                                    <p class="mb-4 text-start">After </p>
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab4/setup.png" alt="..." />
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Task 2: </h2>
                                    <p class="mb-4 text-start">Based on </p>
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Task 3: </h2>
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Task 4: </h2>
                                    <p class="mb-4 text-start">Based on </p>
                                    <h2 class="portfolio-title text-secondary mb-3" style="font-size: 2rem;">Additional tasks: Wind-up implementation and discussion</h2>
                                    <p class="mb-4 text-start">Based on </p>
                                    <button class="btn btn-primary" data-bs-dismiss="modal">
                                        <i class="fas fa-xmark fa-fw"></i>
                                        Close Window
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
        <script src="js/scripts.js"></script>
        <!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *-->
        <!-- * *                               SB Forms JS                               * *-->
        <!-- * * Activate your form at https://startbootstrap.com/solution/contact-forms * *-->
        <!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *-->
        <script src="https://cdn.startbootstrap.com/sb-forms-latest.js"></script>
    </body>
</html>
